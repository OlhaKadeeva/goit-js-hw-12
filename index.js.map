{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function fetchImages(searchText) {\n  const options = {\n    params: {\n      key: '48865125-4f8597dc0399716036b78fee9',\n      q: searchText,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  };\n  return axios.get('https://pixabay.com/api/', options);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loaderBox = document.querySelector('.loader-box');\n\nexport function renderImages(images) {\n  const galleryHtml = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n            <li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <figure class=\"thumb-container\">\n                  <img\n                    class=\"thumb-image\"\n                    src=\"${webformatURL}\"\n                    data-source=\"${largeImageURL}\"\n                    alt=\"${tags}\"\n                  />\n  \n                  <figcaption class=\"thumb-data\">\n                    <dl class=\"thumb-data-list\">\n                      <div class=\"thumb-data-item\">\n                        <dt class=\"thumb-data-title\">Likes</dt>\n                        <dd class=\"thumb-data-data\">${likes}</dd>\n                      </div>\n                      <div class=\"thumb-data-item\">\n                        <dt class=\"thumb-data-title\">Views</dt>\n                        <dd class=\"thumb-data-data\">${views}</dd>\n                      </div>\n                      <div class=\"thumb-data-item\">\n                        <dt class=\"thumb-data-title\">Comments</dt>\n                        <dd class=\"thumb-data-data\">${comments}</dd>\n                      </div>\n                      <div class=\"thumb-data-item\">\n                        <dt class=\"thumb-data-title\">Downloads</dt>\n                        <dd class=\"thumb-data-data\">${downloads}</dd>\n                      </div>\n                    </dl>\n                  </figcaption>\n                </figure>\n              </a>\n            </li>\n          `\n    )\n    .join('');\n\n  gallery.innerHTML = galleryHtml;\n  lightbox.refresh();\n  hideLoader();\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function showLoader() {\n  gallery.classList.add('hidden');\n  loaderBox.classList.remove('hidden');\n  loaderBox.innerHTML = '\"Wait, the image is loaded...\"';\n}\n\nexport function hideLoader() {\n  gallery.classList.remove('hidden');\n  loaderBox.classList.add('hidden');\n}\n\nexport function showMessage() {\n  iziToast.show({\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    close: `true`,\n    title: 'Error',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    messageColor: 'white',\n    maxWidth: '432px',\n    backgroundColor: '#EF4040',\n  });\n}\nexport function showMessageErr() {\n  iziToast.show({\n    position: 'topRight',\n    message: 'Something went wrong...',\n    close: `true`,\n    title: 'Error',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    messageColor: 'white',\n    maxWidth: '432px',\n    backgroundColor: '#EF4040',\n  });\n}\n","import fetchImages from './js/pixabay-api';\nimport {\n  hideLoader,\n  renderImages,\n  showLoader,\n  showMessage,\n  showMessageErr,\n} from './js/render-functions';\n\nconst form = document.querySelector('form');\nconst input = document.querySelector('#search-text');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const searchText = input.value.trim();\n\n  if (!searchText) return;\n\n  input.value = '';\n\n  showLoader();\n\n  fetchImages(searchText)\n    .then(data => handleSearchResults(data.data.hits))\n    .catch(err => {\n      hideLoader();\n      showMessageErr();\n      console.log(err);\n    });\n\n  function handleSearchResults(images) {\n    if (images.length == 0) {\n      showMessage();\n    }\n\n    renderImages(images);\n  }\n}\n"],"names":["fetchImages","searchText","options","axios","gallery","loaderBox","renderImages","images","galleryHtml","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","hideLoader","SimpleLightbox","showLoader","showMessage","iziToast","showMessageErr","form","input","handleSubmit","e","data","handleSearchResults","err"],"mappings":"owBAEe,SAASA,EAAYC,EAAY,CAC9C,MAAMC,EAAU,CACd,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,EACE,OAAOE,EAAM,IAAI,2BAA4BD,CAAO,CACtD,CCPA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,aAAa,EAE/C,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAcD,EACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,8CAEkCL,CAAa;AAAA;AAAA;AAAA;AAAA,2BAIhCD,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAOuBC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQ1D,EACA,KAAK,EAAE,EAEVX,EAAQ,UAAYI,EACpBQ,EAAS,QAAO,EAChBC,GACF,CAEA,MAAMD,EAAW,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,GAAa,CAC3Bf,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAU,UAAU,OAAO,QAAQ,EACnCA,EAAU,UAAY,gCACxB,CAEO,SAASY,GAAa,CAC3Bb,EAAQ,UAAU,OAAO,QAAQ,EACjCC,EAAU,UAAU,IAAI,QAAQ,CAClC,CAEO,SAASe,GAAc,CAC5BC,EAAS,KAAK,CACZ,SAAU,WACV,QACE,2EACF,MAAO,OACP,MAAO,QACP,YAAa,OACb,kBAAmB,OACnB,aAAc,QACd,SAAU,QACV,gBAAiB,SACrB,CAAG,CACH,CACO,SAASC,GAAiB,CAC/BD,EAAS,KAAK,CACZ,SAAU,WACV,QAAS,0BACT,MAAO,OACP,MAAO,QACP,YAAa,OACb,kBAAmB,OACnB,aAAc,QACd,SAAU,QACV,gBAAiB,SACrB,CAAG,CACH,CChGA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,cAAc,EAEnDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMzB,EAAauB,EAAM,MAAM,KAAI,EAEnC,GAAI,CAACvB,EAAY,OAEjBuB,EAAM,MAAQ,GAEdL,IAEAnB,EAAYC,CAAU,EACnB,KAAK0B,GAAQC,EAAoBD,EAAK,KAAK,IAAI,CAAC,EAChD,MAAME,GAAO,CACZZ,IACAK,IACA,QAAQ,IAAIO,CAAG,CACrB,CAAK,EAEH,SAASD,EAAoBrB,EAAQ,CAC/BA,EAAO,QAAU,GACnBa,IAGFd,EAAaC,CAAM,CACpB,CACH"}